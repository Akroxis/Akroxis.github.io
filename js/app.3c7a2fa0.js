(function(e){function t(t){for(var o,r,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)r=s[d],i[r]&&p.push(i[r][0]),i[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(o=!1)}o&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},i={app:0},a=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"04e9":function(e,t,n){},"056e":function(e,t,n){"use strict";var o=n("f375"),i=n.n(o);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("FormView")],1)},a=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-view"},[n("div",{staticClass:"upper-container"},[n("input",{staticClass:"upload-file-input",attrs:{type:"file",accept:"application/json"},on:{change:e.assembleLocalFormData}}),e.fileAttached?n("button",{staticClass:"add-button",on:{click:function(t){e.isNewPagePopVisible=!0}}},[e._v("\n      Add New Page\n    ")]):e._e(),e.fileAttached?n("button",{staticClass:"download-button",on:{click:function(t){return e.downloadFile(e.getFormData,"form")}}},[e._v("\n      Download JSON\n    ")]):e._e()]),e._l(e.getFormData.items,function(e){return n("FormComponent",{key:e.uuid,attrs:{children:e}})}),e.isNewPagePopVisible?n("AddNewItemPop",{attrs:{title:"Add new page"},on:{close:function(t){e.isNewPagePopVisible=!1}},scopedSlots:e._u([{key:"body",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pageTitleValue,expression:"pageTitleValue"}],attrs:{type:"text",placeholder:"Page Title"},domProps:{value:e.pageTitleValue},on:{input:function(t){t.target.composing||(e.pageTitleValue=t.target.value)}}})]},proxy:!0},{key:"footer",fn:function(){return[n("button",{staticClass:"confirmAdd-btn",on:{click:function(t){return e.addPageInCorrectPlace(e.getFormData)}}},[e._v("\n        Confirm\n      ")])]},proxy:!0}],null,!1,1531263141)}):e._e()],2)},s=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e.children&&"page"===e.children.type||e.children&&"section"===e.children.type?n("h2",{class:"section"===e.children.type?"section":"page"},[e._v("\n    "+e._s(e.children.title)+"\n    "),"page"===e.children.type||"section"===e.children.type?n("button",{staticClass:"add-button",on:{click:function(t){e.isNewQuestionPopVisible=!0}}},[e._v("\n      Add new question\n    ")]):e._e(),"page"===e.children.type||"section"===e.children.type?n("button",{staticClass:"add-button",on:{click:function(t){e.isNewSectionPopVisible=!0}}},[e._v("\n      Add new section\n    ")]):e._e()]):e._e(),e.children&&"question"===e.children.type?n("div",{staticClass:"question"},[n("p",[e._v("\n      "+e._s(e.children.title)+"\n    ")]),n("div",{staticClass:"dropdown"},[n("span",{on:{click:e.toggleDropDown}},[e._v("\n        "+e._s(e.newType.title||e.children.response_type||"Choose type")+"\n      ")]),n("span",{staticClass:"arrow",on:{click:e.toggleDropDown}}),n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.dropDownOpened?n("ul",{staticClass:"dropdown-list"},e._l(e.types,function(t){return n("li",{key:t.id,on:{click:function(n){return e.chooseNewType(t,e.children)}}},[e._v("\n            "+e._s(t.title)+"\n          ")])}),0):e._e()])],1)]):e._e(),e.children&&e.children.items?n("div",{staticClass:"inner_container"},e._l(e.children.items,function(e){return n("FormComponent",{key:e.uuid,attrs:{children:e}})}),1):e._e(),e.isNewQuestionPopVisible?n("AddNewItemPop",{attrs:{title:"Add new question"},on:{close:function(t){e.isNewQuestionPopVisible=!1}},scopedSlots:e._u([{key:"body",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.questionTitleValue,expression:"questionTitleValue"}],attrs:{type:"text",placeholder:"Question Title"},domProps:{value:e.questionTitleValue},on:{input:function(t){t.target.composing||(e.questionTitleValue=t.target.value)}}}),n("div",{staticClass:"lower-block"},[e._v("\n        You will be able to select correct response type in Form\n      ")])]},proxy:!0},{key:"footer",fn:function(){return[n("button",{staticClass:"confirmAdd-btn",class:{"inactive-button":0===e.questionTitleValue.length},on:{click:function(t){return e.addQuestionInCorrectPlace(e.children)}}},[e._v("\n        Confirm\n      ")])]},proxy:!0}],null,!1,4270453078)}):e._e(),e.isNewSectionPopVisible?n("AddNewItemPop",{attrs:{title:"Add new section"},on:{close:function(t){e.isNewSectionPopVisible=!1}},scopedSlots:e._u([{key:"body",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.sectionTitleValue,expression:"sectionTitleValue"}],attrs:{type:"text",placeholder:"Section Title"},domProps:{value:e.sectionTitleValue},on:{input:function(t){t.target.composing||(e.sectionTitleValue=t.target.value)}}})]},proxy:!0},{key:"footer",fn:function(){return[n("button",{staticClass:"confirmAdd-btn",on:{click:function(t){return e.addSectionInCorrectPlace(e.children)}}},[e._v("\n        Confirm\n      ")])]},proxy:!0}],null,!1,3627818342)}):e._e()],1)},c=[],u=(n("ac6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-contact-pop__backdrop"},[n("div",{staticClass:"new-contact-pop__content"},[n("header",{staticClass:"modal-header"},[e._t("header",[e._v(e._s(e.title))]),n("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close modal"},on:{click:e.close}},[e._v("\n        x\n      ")])],2),n("section",{staticClass:"modal-body"},[e._t("body")],2),n("footer",{staticClass:"modal-footer"},[e._t("footer")],2)])])}),d=[],p={name:"DefaultPopUp",props:{title:{type:String,default:"Default Title"}},methods:{close:function(){this.$emit("close")}}},f=p,m=(n("bff7"),n("2877")),h=Object(m["a"])(f,u,d,!1,null,"73880372",null),w=h.exports,b=n("c437"),v={name:"FormComponent",props:["children"],components:{AddNewItemPop:w},data:function(){return{title:"test",newType:!1,dropDownOpened:!1,isNewQuestionPopVisible:!1,isNewSectionPopVisible:!1,types:[{title:"text",id:1},{title:"number",id:2}],questionTitleValue:"",sectionTitleValue:"",newQuestionType:!1}},computed:{getFormData:function(){return this.$store.getters.getActualFormData}},methods:{chooseNewType:function(e,t){this.newType=e,this.dropDownOpened=!1,this.setNewFieldValue(t.uuid,this.getFormData.items,e)},toggleDropDown:function(){this.dropDownOpened=!this.dropDownOpened},setNewFieldValue:function(e,t,n){var o=this;Array.isArray(t)&&t.forEach(function(t){t.uuid!==e?t.items&&o.setNewFieldValue(e,t.items,n):t.response_type=n.title})},addQuestionInCorrectPlace:function(e){if(this.questionTitleValue){var t={uuid:b(),title:this.questionTitleValue,response_type:"",type:"question"};e.items.push(t),this.isNewQuestionPopVisible=!1}},addSectionInCorrectPlace:function(e){var t={uuid:b(),title:this.sectionTitleValue,type:"section",items:[]};e.items.push(t),this.isNewSectionPopVisible=!1}}},y=v,g=(n("61e7"),Object(m["a"])(y,l,c,!1,null,"4d9a3755",null)),_=g.exports,P=n("c437"),V={name:"FormView",components:{FormComponent:_,AddNewItemPop:w},computed:{getFormData:function(){return this.$store.getters.getActualFormData}},data:function(){return{isNewPagePopVisible:!1,pageTitleValue:"",fileAttached:!1}},methods:{addPageInCorrectPlace:function(e){var t={uuid:P(),title:this.pageTitleValue,type:"page",items:[]};e.items.push(t),this.isNewPagePopVisible=!1},assembleLocalFormData:function(e){var t=this,n=e.target.files[0],o=new FileReader;o.onload=function(e){t.$store.dispatch("SET_FORMDATA",JSON.parse(e.target.result)),t.fileAttached=!0},o.readAsText(n)},downloadFile:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json",o=document.createElement("a");o.style.display="none",document.body.appendChild(o),o.href=window.URL.createObjectURL(new Blob([JSON.stringify(e)],{type:n})),o.setAttribute("download",t),o.click(),window.URL.revokeObjectURL(o.href),document.body.removeChild(o)}}},C=V,T=(n("056e"),Object(m["a"])(C,r,s,!1,null,"12377748",null)),D=T.exports,N={name:"app",components:{FormView:D}},A=N,F=(n("5c0b"),Object(m["a"])(A,i,a,!1,null,null,null)),k=F.exports,x=n("2f62");o["a"].use(x["a"]);var O=new x["a"].Store({state:{formData:{}},mutations:{updateFormData:function(e,t){e.formData=t}},getters:{getActualFormData:function(e){return e.formData}},actions:{SET_FORMDATA:function(e,t){var n=e.commit;n("updateFormData",t)}}});o["a"].config.productionTip=!1,new o["a"]({store:O,render:function(e){return e(k)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var o=n("5e27"),i=n.n(o);i.a},"5e27":function(e,t,n){},"61e7":function(e,t,n){"use strict";var o=n("04e9"),i=n.n(o);i.a},"7c3f":function(e,t,n){},bff7:function(e,t,n){"use strict";var o=n("7c3f"),i=n.n(o);i.a},f375:function(e,t,n){}});
//# sourceMappingURL=app.3c7a2fa0.js.map